/*! For license information please see chat-widget.js.LICENSE.txt 4*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ChatWidget=t():e.ChatWidget=t()}(self,(function(){return(()=>{var e={472:e=>{e.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://cdn.smooch.io/",n(n.s=6)}([function(e,t,n){var a=n(3);e.exports=new a},function(e,t){e.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,a=e.length;n<a&&!1!==t(e[n],n);n++);}}},function(e,t,n){e.exports={iframe:"_2ChX4GFAl1-UBiWknYZyEQ",displayButton:"avcHn2VQJenBvoR5hilPG",widgetClosed:"_3fQbteJd3oQu4il3LpMKkX","iframe-button-close-lg":"_3FxKeTOOgcsFroUq6se9N7","iframe-button-close-md":"_1GmqPtlICLsWVMg2Kpdx_0","iframe-button-close-sm":"_36mHeCXpAKdhEsuuD5g8oV","iframe-button-close-xs":"_1ZWQW0p6AI6UGwBFbdBf9M",displayTab:"_3dtqBiGeC8k3yop4A-9Lwm",widgetOpened:"_2TELtk5nDKlQudVSivRjpt",widgetEmbedded:"_24n-ftZlG3wDvoWFR8zUnn"}},function(e,t,n){var a=n(4),o=n(1),i=o.each,s=o.isFunction,r=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var o=this.queries,l=n&&this.browserIsIncapable;return o[e]||(o[e]=new a(e,l)),s(t)&&(t={match:t}),r(t)||(t=[t]),i(t,(function(t){s(t)&&(t={match:t}),o[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},function(e,t,n){var a=n(5),o=n(1).each;function i(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}i.prototype={constuctor:i,addHandler:function(e){var t=new a(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,(function(n,a){if(n.equals(e))return n.destroy(),!t.splice(a,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,(function(t){t[e]()}))}},e.exports=i},function(e,t){function n(e){this.options=e,!e.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=n},function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a);function i(e){"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||!document.body?document.addEventListener("DOMContentLoaded",(function(){e()})):e()}function s(e){var t=["screen"];return e.minHeight&&t.push("(min-height: ".concat(e.minHeight,"px)")),e.maxHeight&&t.push("(max-height: ".concat(e.maxHeight,"px)")),e.minWidth&&t.push("(min-width: ".concat(e.minWidth,"px)")),e.maxWidth&&t.push("(max-width: ".concat(e.maxWidth,"px)")),t.join(" and ")}var r=n(0),l=n.n(r),d={lg:{minHeight:668,minWidth:1200},md:[{minHeight:508,minWidth:768,maxWidth:1199},{minHeight:508,maxHeight:667,minWidth:768}],sm:{maxHeight:507,minWidth:768},xs:{maxWidth:767}},c=["lg","md","sm","xs"];function f(e){for(var t=0;t<c.length;t++){var n=c[t],a=d[n];"[object Array]"!==Object.prototype.toString.call(a)&&(a=[a]);for(var o=0;o<a.length;o++)e({rule:a[o],size:n})}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var h,g,v,y,b,U={},x=[],C=[],I=/lebo|awle|pide|obo|rawli|dsbo/i.test(navigator.userAgent),w=/PhantomJS/.test(navigator.userAgent)&&!0,S=["init","login","on","off","logout","sendMessage","triggerPostback","createConversation","updateConversation","updateUser","getDisplayedConversation","getConversationById","getConversations","getMoreConversations","hasMoreConversations","getUser","open","close","isOpened","loadConversation","setDelegate","markAllAsRead","showNotificationChannelPrompt","setPredefinedMessage","startTyping","stopTyping"];if(I){var L=document.createElement("a");L.href="https://smooch.io/live-web-chat/?utm_source=widget",L.text="Powered by Zendesk Sunshine",i((function(){document.body.appendChild(L)}))}function E(){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://cdn.smooch.io/smooch.5.3.14.css",document.body.appendChild(e)}function H(e){var t;window.__onWebMessengerFrameReady__=function(){},h=e,v||(t=g,f((function(e){var n=e.rule,a=e.size;l.a.register(s(n),(function(){t.contentWindow.postMessage({type:"sizeChange",value:a},"".concat(location.protocol,"//").concat(location.host))}))})));for(var n=S[0],a=0;a<S.length;n=S[++a])U[n]=h[n];if(C){for(var o=C[0],i=0;i<C.length;o=C[++i]){var r;(r=h).on.apply(r,m(o.args))}C=void 0}if(b){var d,c=(d=h).init.apply(d,m(b));b=void 0;for(var u=x[0],p=0;p<x.length;u=x[++p])c="then"===u.type?c.then(u.next):c.catch(u.next);x=[]}}var N=function(e){return e.contentWindow&&e.contentWindow.document};function j(){if(!g){var e=null,t=!1;(g=document.createElement("iframe")).id="web-messenger-container",g.frameBorder=0,g.allowFullscreen=!0,g.allowTransparency=!0,g.scrolling="no",g.className=o.a.iframe;var n=function(){t=!0,clearInterval(e),delete g.onload;var n=N(g);n.open(),n.write("\n                    <!DOCTYPE html>\n                    <html>\n                        <head>\n                            ".concat("",'\n                            <link rel="stylesheet" href="').concat("https://cdn.smooch.io/frame.5.3.14.css",'" type="text/css" />\n                            <script src="').concat("https://cdn.smooch.io/frame.5.3.14.min.js",'" async crossorigin="anonymous"><\/script>\n                        </head>\n                        <body>\n                            <div id="mount"></div>\n                        </body>\n                    </html>\n                    ')),n.close()};e=setInterval((function(){var e=N(g);t||!e||"complete"!==e.readyState&&"interactive"!==e.readyState||n()}),1e3),g.onload=function(){t||n()}}v?y&&(y.appendChild(g),y=void 0):document.body.appendChild(g)}var A={VERSION:"5.3.14",on:function(){C||(C=[]);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.push({args:t})},init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b=t,v=t.length>0&&!!t[0].embedded,I||w||i((function(){E(),j()}));var a={then:function(e){return x.push({type:"then",next:e}),a},catch:function(e){return x.push({type:"catch",next:e}),a}};return a},render:function(e){g?e.appendChild(g):y=e},destroy:function(){h&&(h.destroy(),g.remove?g.remove():g.parentNode.removeChild(g),f((function(e){var t=e.rule;l.a.unregister(s(t))})),O())}};function O(){if(!document.getElementById("web-messenger-container")){h=void 0,g=void 0,window.__onWebMessengerFrameReady__=H;for(var e=S[0],t=0;t<S.length;e=S[++t])U[e]&&delete U[e];u(U,A)}}O(),t.default=U}])},498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{close:()=>l,destroy:()=>c,init:()=>s,isOpened:()=>r,open:()=>d});var a=n(472);const o=JSON.parse('{"z":{"ticketmaster.com":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"locale":"en-US","soundNotificationEnabled":false,"languageFile":"en-US.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"ticketmaster.co.uk":{"en-gb":{"integrationId":"Use co.uk domain integrationId","canUserSeeConversationList":false,"locale":"en-GB","soundNotificationEnabled":false,"languageFile":"en-GB.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"ticketmaster.ca":{"fr-ca":{"integrationId":"Use fr-ca domain integrationId","canUserSeeConversationList":false,"locale":"fr-CA","soundNotificationEnabled":false,"languageFile":"fr-CA.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false},"en-ca":{"integrationId":"Use en-CA integrationId","canUserSeeConversationList":false,"locale":"en-CA","soundNotificationEnabled":false,"languageFile":"en-CA.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-ltmus.aws.ticketmaster.net":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-llnus.aws.ticketmaster.net":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-ltmca.aws.ticketmaster.net":{"fr-ca":{"integrationId":"Use fr-ca domain integrationId","canUserSeeConversationList":false,"locale":"fr-CA","soundNotificationEnabled":false,"languageFile":"fr-CA.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false},"en-ca":{"integrationId":"Use en-CA integrationId","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"myln-alpha.ticketmaster.net":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-alpha.ticketmaster.net":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"myca-alpha.ticketmaster.net":{"fr-ca":{"integrationId":"Use fr-ca domain integrationId","canUserSeeConversationList":false,"locale":"fr-CA","soundNotificationEnabled":false,"languageFile":"fr-CA.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false},"en-ca":{"integrationId":"Use en-CA integrationId","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-lnus-preprod.nonprod.ticketmaster.net":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-tmus-preprod.nonprod.ticketmaster.net":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"my-tmca-preprod.nonprod.ticketmaster.net":{"fr-ca":{"integrationId":"Use fr-ca domain integrationId","canUserSeeConversationList":false,"locale":"fr-CA","soundNotificationEnabled":false,"languageFile":"fr-CA.json","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false},"en-ca":{"integrationId":"Use en-CA integrationId","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"127.0.0.1":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"localhost":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}},"loris.gfx.nonprod6c.phx.tktm.io":{"en-us":{"integrationId":"61684da2c9fd4b00df540ad6","canUserSeeConversationList":false,"soundNotificationEnabled":false,"locale":"en-US","menuItems":{"imageUpload":false,"fileUpload":false,"shareLocation":false},"fixedHeader":false}}}}'),i=a.default;function s({jwtToken:e,email:t,...n}){const a=e=>[...e].forEach((e=>e.remove())),s=window.location.hostname,r=o.z[s][n.language];void 0===i.isOpened||i.isOpened()?(i.init({integrationId:r.integrationId,canUserSeeConversationList:!1,jwt:e,externalId:t,locale:r.locale,soundNotificationEnabled:r.soundNotificationEnabled,menuItems:r.menuItems,buttonWidth:"0",buttonHeight:"0",fixedHeader:!1,delegate:{beforeDisplay:(e,t)=>e.metadata&&e.metadata.isHidden?null:e}}).then((()=>{i.getConversations().find((e=>{if(e.metadata.orderNumber===n.orderNumber)return console.log("Updating Conversation: ",n),i.updateConversation(e.id,{displayName:`Order # ${n.orderNumber}`,metadata:{email:t,...n}}),i.loadConversation(e.id),i.open(),!0}))||(console.log("No existing conversation found, creating new one"),console.log("Data: ",n),i.createConversation({displayName:`Order # ${n.orderNumber}`,metadata:{email:t,...n}}).then((e=>{i.loadConversation(e.id),i.sendMessage({type:"text",text:"Start Chat",metadata:{isHidden:!0}},e.id),i.open()})))})),i.on("widget:opened",(()=>{const e=document.getElementById("web-messenger-container");e.style.visibility="initial",e.contentWindow.document.getElementsByClassName("logo").length&&(a(e.contentWindow.document.getElementsByClassName("logo")),a(e.contentWindow.document.getElementsByClassName("header-icon")))})),i.on("widget:closed",(()=>{const e=document.getElementById("web-messenger-container");setTimeout((()=>{e.style.visibility="hidden"}),350)}))):i.open()}function r(){return i.isOpened()}function l(){return i.close()}function d(){return i.open()}function c(){return i.destroy()}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(498)})()}));
